# nosql-challenge

# Database and Jupyter Notebook Set Up

  To set up the connection from the Mongo database to the python file I connected to the MongoClient and assigned my database to a variable in my code. I then created a new restuarant into the database by creating a dictionary with the restuarant information and then using insert_one to put the new ratuarant information into the collection.  I then checked the BusinessTypeID and changed it to be 1.  I then checked all the documents wiht the LocalAuthorityName as Dover and then deleted them all with the delete_many method.  After that I updated the geocode longitude and latitude to a Decimal, converted RatingValue to integers using the update_many method.

# Exploratory Analysis

  To start my analysis I connected to the MongoClient database since it is a new python file, and made sure the collcetion was there and assinged the database and collection to a variable.  My first query was to find establishments with a Hygine score higher greater than or equal to 20.  I made my query and then created a count variabel to find the estblishments that fell into that query.  I then printed a count_documents method on the query so it could tell me how many establishments in total passed the query. After that I jsut printed the first one to see an example of an establishment that fell in the query.
  After that I converted the count of the establishments into a dataframe so I could see it on a bigger scale and printed the first 10 rows to make sure the data looks good.  I then did a query the same way but used a regex and gte to find RatingValues greater than or equal to 4 using a count_documents and find to pull all the data correctly.  I also created my RatingValue result into a dataframe and showed the first 10 results.  Laslty I found the top 5 establishments with a RatingValue of 5 soreted by the lowest hygine score, nearest to the Penang Flavours restuarant.  I did this by setting my variables of degree search, latitude, and longitude, then set up my query to find RatingValue of 5, implemented my latitude and longitude minus the degree search, and I wanted that to be less than the latitude plus the degree search.  I did the same thing next for my longitude to be able to keep it within the search of restuarants close to Penang Flavours.  I then used a sort to have the Hygiene scores count from lowest to highest and limit the result to 5 establishments.  To wrap it all together my result would equal the finding of the query, the sorting of Hygine scores from lowest to highest, and then limiting to the limit of 5. Then used my result to convert into the dataframe and printed the results. 
